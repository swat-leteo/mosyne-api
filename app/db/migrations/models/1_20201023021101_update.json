{
  "upgrade": [
    "CREATE TABLE IF NOT EXISTS \"address\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"updated\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"city\" VARCHAR(54) NOT NULL  DEFAULT '',\n    \"municipality\" VARCHAR(54) NOT NULL  DEFAULT '',\n    \"neighborhood\" VARCHAR(54) NOT NULL  DEFAULT '',\n    \"street\" VARCHAR(54) NOT NULL  DEFAULT '',\n    \"num_int\" VARCHAR(5) NOT NULL  DEFAULT '',\n    \"num_ext\" VARCHAR(5) NOT NULL  DEFAULT '',\n    \"cp\" VARCHAR(8) NOT NULL  DEFAULT ''\n);\nCOMMENT ON COLUMN \"address\".\"municipality\" IS 'User municipality ref to: `Municipio/delegaci√≥n`';\nCOMMENT ON COLUMN \"address\".\"neighborhood\" IS 'User neighborhood ref to: `Colonia`';\nCOMMENT ON COLUMN \"address\".\"cp\" IS 'Postal code';\nCOMMENT ON TABLE \"address\" IS 'Address model.';",
    "CREATE TABLE IF NOT EXISTS \"users\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"updated\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"email\" VARCHAR(80) NOT NULL UNIQUE,\n    \"password\" VARCHAR(80) NOT NULL,\n    \"is_verified\" BOOL NOT NULL  DEFAULT False,\n    \"firstname\" VARCHAR(54) NOT NULL,\n    \"lastname\" VARCHAR(54) NOT NULL,\n    \"phone\" VARCHAR(16) NOT NULL  DEFAULT '',\n    \"cel\" VARCHAR(16) NOT NULL  DEFAULT '',\n    \"photo\" VARCHAR(516) NOT NULL  DEFAULT '',\n    \"address_id\" UUID  UNIQUE REFERENCES \"address\" (\"id\") ON DELETE CASCADE\n);\nCREATE INDEX IF NOT EXISTS \"idx_users_email_133a6f\" ON \"users\" (\"email\");\nCOMMENT ON COLUMN \"users\".\"email\" IS 'User email address.';\nCOMMENT ON COLUMN \"users\".\"password\" IS 'User hashed password.';\nCOMMENT ON COLUMN \"users\".\"is_verified\" IS 'Indicates if user email is verified.';\nCOMMENT ON COLUMN \"users\".\"phone\" IS 'User phone number.';\nCOMMENT ON COLUMN \"users\".\"cel\" IS 'User mobile number.';\nCOMMENT ON COLUMN \"users\".\"photo\" IS 'Url to user photo.';\nCOMMENT ON COLUMN \"users\".\"address_id\" IS 'FK to user address';\nCOMMENT ON TABLE \"users\" IS 'User model. aka `Guardian`';",
    "CREATE TABLE IF NOT EXISTS \"angel_profile\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"updated\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"guardian_relation\" VARCHAR(10) NOT NULL,\n    \"firstname\" VARCHAR(54) NOT NULL,\n    \"lastname\" VARCHAR(54) NOT NULL,\n    \"nationality\" VARCHAR(30) NOT NULL,\n    \"about\" VARCHAR(30),\n    \"living_alone\" BOOL NOT NULL  DEFAULT False,\n    \"suffering\" VARCHAR(30) NOT NULL  DEFAULT 'Alzheimer',\n    \"blood_type\" VARCHAR(3) NOT NULL,\n    \"health_info\" TEXT,\n    \"surgeries\" JSONB NOT NULL,\n    \"alergies\" JSONB NOT NULL,\n    \"medicines\" JSONB NOT NULL,\n    \"detonant\" VARCHAR(30) NOT NULL,\n    \"diabetes\" BOOL NOT NULL  DEFAULT False,\n    \"hypertension\" BOOL NOT NULL  DEFAULT False,\n    \"guardian_id\" UUID NOT NULL REFERENCES \"users\" (\"id\") ON DELETE CASCADE,\n    \"address_id\" UUID  UNIQUE REFERENCES \"address\" (\"id\") ON DELETE CASCADE\n);\nCOMMENT ON COLUMN \"angel_profile\".\"guardian_relation\" IS 'The relation between the angel and guardian.';\nCOMMENT ON COLUMN \"angel_profile\".\"living_alone\" IS 'Indicate if the angel live alone.';\nCOMMENT ON COLUMN \"angel_profile\".\"suffering\" IS 'The angel suffering.';\nCOMMENT ON COLUMN \"angel_profile\".\"blood_type\" IS 'An: A-\\nAp: A+\\nBn: B-\\nBp: B+\\nABn: AB-\\nABp: AB+\\nOn: O-\\nOp: O+';\nCOMMENT ON COLUMN \"angel_profile\".\"detonant\" IS 'The suffering detonant.';\nCOMMENT ON COLUMN \"angel_profile\".\"diabetes\" IS 'Indicate if the angel suffer diabetes.';\nCOMMENT ON COLUMN \"angel_profile\".\"hypertension\" IS 'Indicate if the angel suffer hypertension.';\nCOMMENT ON COLUMN \"angel_profile\".\"guardian_id\" IS 'The person who take care of the angel.';\nCOMMENT ON COLUMN \"angel_profile\".\"address_id\" IS 'FK to user address.';\nCOMMENT ON TABLE \"angel_profile\" IS 'Angel model.';",
    "CREATE TABLE IF NOT EXISTS \"contacts\" (\n    \"id\" UUID NOT NULL  PRIMARY KEY,\n    \"created\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"updated\" TIMESTAMP NOT NULL  DEFAULT CURRENT_TIMESTAMP,\n    \"angel_relation\" VARCHAR(10) NOT NULL,\n    \"name\" VARCHAR(80) NOT NULL,\n    \"phone\" VARCHAR(16) NOT NULL,\n    \"cel\" VARCHAR(16) NOT NULL,\n    \"angel_id\" UUID NOT NULL REFERENCES \"angel_profile\" (\"id\") ON DELETE CASCADE\n);\nCOMMENT ON COLUMN \"contacts\".\"angel_relation\" IS 'The relation between the angel and contact.';\nCOMMENT ON COLUMN \"contacts\".\"name\" IS 'Contact name';\nCOMMENT ON COLUMN \"contacts\".\"phone\" IS 'Contact phone number.';\nCOMMENT ON COLUMN \"contacts\".\"cel\" IS 'Contact mobile number.';\nCOMMENT ON TABLE \"contacts\" IS 'Angel contact model.';"
  ],
  "downgrade": [
    "DROP TABLE IF EXISTS \"address\"",
    "DROP TABLE IF EXISTS \"users\"",
    "DROP TABLE IF EXISTS \"angel_profile\"",
    "DROP TABLE IF EXISTS \"contacts\""
  ]
}